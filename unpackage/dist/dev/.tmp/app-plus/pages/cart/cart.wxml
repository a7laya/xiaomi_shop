<view style="background:#F5F5F5;"><uni-nav-bar vue-id="1" right-text="{{isEdit?'完成':'编辑'}}" title="购物车" statusBar shadow="{{false}}" fixed="{{true}}" data-event-opts="{{[['^clickRight',[['e0']]]]}}" bind:clickRight="__e" bind:__l="__l"></uni-nav-bar><view hidden="{{!(list.length==0)}}" class="d-flex a-center j-center w-100 py-5 bg-white"><view class="iconfont icon-gouwuche text-light-muted font-big"></view><view class="font-md text-light-muted mx-2">购物车还是空的</view><view class="border border-light-secondary py-1 px-2 font-md rounded" hover-class=" bg-light-secondary">去逛逛</view></view><view class="px-2 bg-white"><block wx:for="{{list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="d-flex a-center py-3 border-bottom border-light-secondary"><label class="radio d-flex a-center j-center flex-shrink" style="width:100rpx;height:100rpx;"><radio value="{{item.id}}" color="#FD6801" checked="{{item.checked}}" data-event-opts="{{[['tap',[['selectItem',[index]]]]]}}" bindtap="__e"></radio></label><image class="mr-2 p-1 border border-light-secondary rounded flex-shrink" style="width:150rpx;height:150rpx;" src="{{item.cover}}" mode="widthFix"></image><view class="flex-1 d-flex flex-column"><view class="text-dark" style="font-size:35rpx;">{{''+item.title+''}}</view><view data-event-opts="{{[['tap',[['doShowPopup',[index]]]]]}}" class="{{['text-light-muted mb-1',isEdit?'p-1 bg-light-secondary mb-2 d-flex a-center':'']}}" bindtap="__e"><block wx:for="{{item.attrs}}" wx:for-item="attr" wx:for-index="attrIndex" wx:key="attrIndex"><text class="mr-1">{{''+attr.list[attr.selected].name+''}}</text></block><block wx:if="{{isEdit}}"><view class="iconfont icon-xiangxia font ml-auto"></view></block></view><view class="mt-auto d-flex j-sb"><price vue-id="{{'2-'+index}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.pprice}}</price><view class="a-self-end"><uni-number-box vue-id="{{'3-'+index}}" min="{{item.minnum}}" max="{{item.maxnum}}" value="{{item.num}}" data-event-opts="{{[['^change',[['changeNum',['$event','$0',index],[[['list','',index]]]]]]]}}" bind:change="__e" bind:__l="__l"></uni-number-box></view></view></view></view></block></view><view class="d-flex a-center a-stretch position-fixed left-0 bottom-0 w-100 bg-white border-top border-light-secondary" style="height:100rpx;z-index:100;"><label data-event-opts="{{[['tap',[['doSelectAll',['$event']]]]]}}" class="radio d-flex a-center j-center flex-shrink" style="width:120rpx;" bindtap="__e"><radio color="#FD6801" checked="{{checkedAll}}" disabled="{{disableSelectAll}}"></radio></label><block wx:if="{{!isEdit}}"><view class="flex-1 d-flex a-center j-center font-md">合计<price vue-id="4" unitSize="33" priceSize="44" bind:__l="__l" vue-slots="{{['default']}}">{{totalPrice}}</price></view><view class="flex-1 d-flex a-center j-center main-bg-color" hover-class="main-bg-hover-color" data-event-opts="{{[['tap',[['orderConfirm',['$event']]]]]}}" bindtap="__e"><text class="text-white font-md">结算</text></view></block><block wx:else><view class="flex-1 d-flex a-center j-center main-bg-color" hover-class="main-bg-hover-color"><text class="text-white font-md">移入收藏</text></view><view class="flex-1 d-flex a-center j-center bg-danger" hover-class="main-bg-hover-color" data-event-opts="{{[['tap',[['doDelGoods',['$event']]]]]}}" bindtap="__e"><text class="text-white font-md">删除</text></view></block></view><common-popup vue-id="5" popupClass="{{popupShow}}" data-event-opts="{{[['^hide',[['doHidePopup']]]]}}" bind:hide="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="d-flex a-center" style="height:275rpx;"><image class="border rounded" style="height:180rpx;width:180rpx;" src="/static/images/demo/list/1.jpg" mode="widthFix"></image><view class="pl-2"><price vue-id="{{('6')+','+('5')}}" priceSize="font-lg" unitSize="font" bind:__l="__l" vue-slots="{{['default']}}">2399</price><view class="d-block d-flex"><block wx:for="{{popupData.attrs}}" wx:for-item="item" wx:for-index="index" wx:key="index"><text class="ml-1">{{''+item.list[item.selected].name+''}}</text></block></view></view></view><scroll-view class="w-100" style="height:660rpx;" scroll-y><block wx:for="{{popupData.attrs}}" wx:for-item="item" wx:for-index="index" wx:key="index"><card vue-id="{{('7-'+index)+','+('5')}}" headTitle="{{item.title}}" headTitleWeight="{{false}}" headBorderBottom="{{false}}" bind:__l="__l" vue-slots="{{['default']}}"><zcm-radio-group vue-id="{{('8-'+index)+','+('7-'+index)}}" label="{{item}}" selected="{{item.selected}}" data-event-opts="{{[['^updateSelected',[['__set_sync',['$0','selected','$event'],[[['popupData.attrs','',index,'']]]]]]]}}" bind:updateSelected="__e" bind:__l="__l"></zcm-radio-group></card></block><view class="d-flex j-sb a-center p-2 border-top border-light-secondary"><text>{{"购买数量"+popupData.num}}</text><uni-number-box vue-id="{{('9')+','+('5')}}" min="{{1}}" value="{{popupData.num}}" data-event-opts="{{[['^change',[['e1']]]]}}" bind:change="__e" bind:__l="__l"></uni-number-box></view></scroll-view><view class="w-100 main-bg-color text-white font-md d-flex j-center a-center position-fixed bottom-0 left-0" style="height:100rpx;" hover-class="main-bg-hover-color" data-event-opts="{{[['tap',[['doHidePopup',['$event']]]]]}}" catchtap="__e">确定</view></common-popup><view class="text-center main-text-color font-md font-weight pt-2">为你推荐</view><view class="position-relative d-flex a-center j-center text-secondary p-3"><view class="position-absolute px-1" style="background-color:#F5F5F5;z-index:2;">买的人还买了</view><view class="position-absolute w-100" style="height:1rpx;left:0;background-color:#DDDDDD;"></view></view><view class="row j-sb bg-white"><block wx:for="{{hotList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><common-list vue-id="{{'10-'+index}}" item="{{item}}" index="{{index}}" bind:__l="__l"></common-list></block></view><view style="height:200rpx;"></view></view>